#!/usr/bin/env bash

DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"

SYSTEM="$( uname )"

cd $DIR


git submodule sync
git submodule init
git submodule update
git submodule foreach git pull origin master
git submodule foreach git submodule init
git submodule foreach git submodule update



FONTS=$DIR/fonts/SourceCodePro

if [ $SYSTEM == "Darwin" ]; then
    LOCAL_FONTS="$HOME/Library/Fonts"
else
    LOCAL_FONTS="$HOME/.fonts"
fi

for FONT in $FONTS/*.otf
do
    ln -sf "$FONT" "$LOCAL_FONTS"
done



mkdir -p "$HOME/.antigen"

ln -sf "$DIR/zsh/antigen/antigen.zsh" "$HOME/.antigen/antigen.zsh"
ln -sf "$DIR/zsh/zshrc" "$HOME/.zshrc"